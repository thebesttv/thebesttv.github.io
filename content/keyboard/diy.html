<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- 2023-07-25 22:57 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>键盘DIY</title>
<meta name="author" content="thebesttv" />
<meta name="generator" content="Org Mode" />
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-21YM95T3BQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-21YM95T3BQ');
</script>
<!-- favicon -->
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<!-- CSS -->
<link rel="stylesheet" type="text/css" href="https://unpkg.com/latex.css/style.css">
<link rel="stylesheet" type="text/css" href="../../css/org-default.css">
<link rel="stylesheet" type="text/css" href="../../css/style.css">
<!-- pagefind -->
<link rel="stylesheet" type="text/css" href="../../_pagefind/pagefind-ui.css">
<script src="../../_pagefind/pagefind-ui.js" type="text/javascript"></script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
      new PagefindUI({element: "#search", showImages: false, resetStyles: false});
  });
</script>
</head>
<body>
<div id="preamble" class="status">
<nav class="org-center">
<a href="../../index.html">Home</a>
<div id="search"></div>
<hr>
</nav>
</div>
<div id="content" class="content">
<header>
<h1 class="title">键盘DIY</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgbdc68ba">1. 键帽</a></li>
<li><a href="#org029858c">2. 矮轴</a></li>
<li><a href="#org5192029">3. 轴体固定方式</a>
<ul>
<li><a href="#org8cca61d">3.1. PCB</a></li>
<li><a href="#orgfac317c">3.2. 定位板</a></li>
<li><a href="#org2d4a71d">3.3. 3D打印</a></li>
</ul>
</li>
<li><a href="#org09ed47a">4. MCU</a>
<ul>
<li><a href="#orgf4d7592">4.1. CH552</a></li>
</ul>
</li>
<li><a href="#orge42b607">5. 按键扫描方式</a>
<ul>
<li><a href="#org46545f4">5.1. 矩阵扫描</a></li>
<li><a href="#orgc777bb0">5.2. 并入串出</a></li>
</ul>
</li>
<li><a href="#orga9fdbec">6. 一些成品</a>
<ul>
<li><a href="#org83910c1">6.1. 分体键盘</a></li>
<li><a href="#toby-chui">6.2. Toby Chui 的两块基于 CH552 的键盘</a></li>
</ul>
</li>
<li><a href="#org2b66ad7">7. Misc</a></li>
</ul>
</div>
</nav>
<hr style="width: 80%;">
<p>
有两个想法
</p>
<ul class="org-ul">
<li>超低成本键盘，按键不多，适合送人之类的hh</li>
<li>分体键盘，成本尽量低，矮轴，希望有 OLED 屏</li>
</ul>

<div id="outline-container-orgbdc68ba" class="outline-2">
<h2 id="orgbdc68ba"><span class="section-number-2">1.</span> <a href="#orgbdc68ba">键帽</a></h2>
<div class="outline-text-2" id="text-1">
<p>
大多数是十字键帽，但凯华Choc不兼容。
</p>

<p>
目前没找到十字的超低键帽，打算试试3D打印。
</p>
</div>
</div>

<div id="outline-container-org029858c" class="outline-2">
<h2 id="org029858c"><span class="section-number-2">2.</span> <a href="#org029858c">矮轴</a></h2>
<div class="outline-text-2" id="text-2">
<p>
主要有两种矮轴：
</p>
<ul class="org-ul">
<li><a href="http://www.kailh.com/product/Ms/Choc/">凯华Choc</a>：键帽不是十字的，接近三块一粒</li>
<li><a href="https://www.gateron.co/products/gateron-low-profile-mechanical-switch-set">佳达隆矮轴</a>：十字键帽，相对便宜点，两块几一粒</li>
</ul>
<p>
两者的PCB均不兼容，也和MX不兼容。
</p>
</div>
</div>

<div id="outline-container-org5192029" class="outline-2">
<h2 id="org5192029"><span class="section-number-2">3.</span> <a href="#org5192029">轴体固定方式</a></h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org8cca61d" class="outline-3">
<h3 id="org8cca61d"><span class="section-number-3">3.1.</span> <a href="#org8cca61d">PCB</a></h3>
</div>

<div id="outline-container-orgfac317c" class="outline-3">
<h3 id="orgfac317c"><span class="section-number-3">3.2.</span> <a href="#orgfac317c">定位板</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
热插拔需要，可以用一块1mm的PCB代替（1.2的或许也行？）。
</p>
</div>
</div>

<div id="outline-container-org2d4a71d" class="outline-3">
<h3 id="org2d4a71d"><span class="section-number-3">3.3.</span> <a href="#org2d4a71d">3D打印</a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
直接打印一块定位板固定轴体，这样可以实现弯的键盘。
</p>
</div>
</div>
</div>

<div id="outline-container-org09ed47a" class="outline-2">
<h2 id="org09ed47a"><span class="section-number-2">4.</span> <a href="#org09ed47a">MCU</a></h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgf4d7592" class="outline-3">
<h3 id="orgf4d7592"><span class="section-number-3">4.1.</span> <a href="#orgf4d7592">CH552</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
主要分为 CH552G（SOP-16）和 CH552T（）。
相比于基于 RISC-V 的 CH582，更容易焊接，也更便宜。
可以用 Arduino 编程，<a href="#toby-chui">Toby Chui</a> 的键盘里有样例代码。
</p>

<ul class="org-ul">
<li><a href="https://blog.csdn.net/havc_W/article/details/122467144">沁恒CH552G实现最小系统</a></li>
<li><a href="https://www.wch.cn/products/CH552.html">沁恒 CH552 介绍</a></li>
<li><a href="https://www.wch.cn/products/productsCenter/mcuInterface?categoryId=72">CH552 所在的 E8051 USB 系列</a></li>
<li><a href="https://github.com/DeqingSun/ch55xduino/tree/ch55xduino">ch55xduino</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge42b607" class="outline-2">
<h2 id="orge42b607"><span class="section-number-2">5.</span> <a href="#orge42b607">按键扫描方式</a></h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org46545f4" class="outline-3">
<h3 id="org46545f4"><span class="section-number-3">5.1.</span> <a href="#org46545f4">矩阵扫描</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
大多数键盘采用的方法，缺点是每个按键都需要二极管，从而防止鬼键，此外不太清楚这种的怎么 debounce。
</p>
</div>
</div>

<div id="outline-container-orgc777bb0" class="outline-3">
<h3 id="orgc777bb0"><span class="section-number-3">5.2.</span> <a href="#orgc777bb0">并入串出</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
从稚晖君的翰文上发现的。74HC165 是并入串出芯片，每个可以输入8位，也就是8个键。
把多个 74HC165 串联，可以让 MCU 只用 1 个 IO 口（和几个控制芯片的端口）
实现任意多键的扫描。
</p>

<p>
稍微有点麻烦的是，每个按键需要一个10K的上拉电阻。
可以使用 0603 的排阻代替4个电阻。
</p>
</div>
</div>
</div>

<div id="outline-container-orga9fdbec" class="outline-2">
<h2 id="orga9fdbec"><span class="section-number-2">6.</span> <a href="#orga9fdbec">一些成品</a></h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org83910c1" class="outline-3">
<h3 id="org83910c1"><span class="section-number-3">6.1.</span> <a href="#org83910c1">分体键盘</a></h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><a href="https://github.com/diimdeep/awesome-split-keyboards">Awesome Split Keyboards</a></li>
<li><a href="https://www.ergodox.io/">ErgoDox</a></li>
<li><a href="https://github.com/pashutk/chocofi">Chocofi</a></li>
</ul>
</div>
</div>

<div id="outline-container-toby-chui" class="outline-3">
<h3 id="toby-chui"><span class="section-number-3">6.2.</span> <a href="#toby-chui">Toby Chui 的两块基于 CH552 的键盘</a></h3>
<div class="outline-text-3" id="text-toby-chui">
<p>
小的是 4 键，大的 5x4 键，PCB 大小可以控制在 10x10。
大的虽然采用的是矩阵扫描，但好像没有用二极管防止鬼键。
</p>
<ul class="org-ul">
<li><a href="https://twitter.com/toby_chui/status/1675050392038825984">twitter</a></li>
<li><a href="https://www.instructables.com/DIY-3-Single-Chip-Macro-Keypad-From-Scratch-Arduin/">4xMacropad</a>: DIY $3 Single Chip Macro Keypad From Scratch (Arduino IDE
Programmable!) 基于 CH552G 的低成本 4键 键盘</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org2b66ad7" class="outline-2">
<h2 id="org2b66ad7"><span class="section-number-2">7.</span> <a href="#org2b66ad7">Misc</a></h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li><a href="https://precondition.github.io/home-row-mods">A guide to home row mods</a> 大概是说在 home row 放上 ctrl 和 alt 等控制键。</li>
<li><a href="https://wiki.ai03.com/books/pcb-design/page/pcb-guide-part-1---preparations">ai03's Keyboard PCB Design Guide</a></li>
<li><a href="https://github.com/ruiqimao/keyboard-pcb-guide">Keyboard PCB Guide</a></li>
<li><a href="https://www.masterzen.fr/2020/05/03/designing-a-keyboard-part-1/">Designing a keyboard from scratch - Part 1</a></li>
<li><a href="https://youtu.be/Mks7QDxFreY">The Charybdis Wireless Keyboard</a> 使用很薄的PCB，来达到弯折的效果</li>
<li><a href="https://oshwhub.com/nimrodlord/ada40">50%矮轴热插拔小键盘 ada51</a> 定位板使用通用标准轴体开孔，但是是1mm厚</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr><table class="postamble">
  <tr><td class="org-right">Author</td><td class="org-left">thebesttv</td></tr>
  <tr><td class="org-right">Created</td><td class="org-left">2023-07-21 23:04</td></tr>
  <tr><td class="org-right">Modified</td><td class="org-left">2023-07-21 23:30</td></tr>
  <tr><td class="org-right">Generated</td><td class="org-left">2023-07-25 22:57</td></tr>
  <tr><td class="org-right">Version</td><td class="org-left"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 28.2 (<a href="https://orgmode.org">Org</a> mode 9.5.5)</td></tr>
  <tr><td class="org-right">Raw</td><td class="org-left"><a href="https://raw.githubusercontent.com/thebesttv/thebesttv.github.io/main/content/keyboard/diy.org">diy.org</a></td></tr>
</table>
</div>
</body>
</html>
